var jsPanel;(function($){jsPanel={version:"2.3.0 2015-01-12 09:10",device:(function(){try{var md=new MobileDetect(window.navigator.userAgent),mobile=md.mobile(),phone=md.phone(),tablet=md.tablet(),os=md.os(),userAgent=md.userAgent();return{mobile:mobile,tablet:tablet,phone:phone,os:os,userAgent:userAgent};}catch(e){console.log(e+"; Seems like mobile-detect.js is not loaded");return false;}})(),ID:0,widthForMinimized:150,hintsTc:[],hintsTl:[],hintsTr:[],template:'<div class="jsPanel jsPanel-theme-default"><div class="jsPanel-hdr jsPanel-theme-default"><h3 class="jsPanel-title"></h3><div class="jsPanel-hdr-r"><div class="jsPanel-btn-close"><span class="jsglyph jsglyph-remove"></span></div><div class="jsPanel-btn-max"><span class="jsglyph jsglyph-maximize"></span></div><div class="jsPanel-btn-norm"><span class="jsglyph jsglyph-normalize"></span></div><div class="jsPanel-btn-min"><span class="jsglyph jsglyph-minimize"></span></div><div class="jsPanel-btn-small"><span class="jsglyph jsglyph-chevron-up"></span></div><div class="jsPanel-btn-smallrev"><span class="jsglyph jsglyph-chevron-down"></span></div></div><div class="jsPanel-hdr-toolbar jsPanel-clearfix"></div></div><div class="jsPanel-content jsPanel-theme-default"></div><div class="jsPanel-ftr jsPanel-theme-default jsPanel-clearfix"></div></div>',addToolbar:function(panel,place,items){if(place==="header"){jsPanel.configToolbar(items,panel.header.toolbar,panel);}else{if(place==="footer"){panel.footer.css({display:"block",padding:"5px 20px 5px 5px"});jsPanel.configToolbar(items,panel.footer,panel);}}return panel;},autoclose:function(panel,id,optionAutoclose){window.setTimeout(function(){var elmt=$("#"+id);if(elmt.length>0){elmt.fadeOut("slow",function(){panel.close();});}},optionAutoclose);},calcPos:function(prop,option,count,panel){if(option.position[prop]==="auto"){option.position[prop]=count*30+"px";}else{if($.isFunction(option.position[prop])){option.position[prop]=option.position[prop](panel);}else{if(option.position[prop]===0){option.position[prop]="0";}else{option.position[prop]=parseInt(option.position[prop],10)+"px";}}}if(option.selector==="body"){if(prop==="top"){option.position.top=parseInt(option.position.top,10)+jsPanel.winscrollTop()+"px";}if(prop==="bottom"){option.position.bottom=parseInt(option.position.bottom,10)-jsPanel.winscrollTop()+"px";}if(prop==="left"){option.position.left=parseInt(option.position.left,10)+jsPanel.winscrollLeft()+"px";}if(prop==="right"){option.position.right=parseInt(option.position.right,10)-jsPanel.winscrollLeft()+"px";}}return option.position[prop];},calcPosCenter:function(option){var posL=($(option.selector).outerWidth()/2)-((parseInt(option.size.width,10)/2)),posT;if(option.selector==="body"){posT=($(window).outerHeight()/2)-((parseInt(option.size.height,10)/2)-jsPanel.winscrollTop());}else{posT=($(option.selector).outerHeight()/2)-((parseInt(option.size.height,10)/2));}return{top:posT+"px",left:posL+"px"};},calcPosmaxtoScreen:function(panel){var offset=panel.offset(),newPos={top:parseInt(panel.css("top"))-(offset.top-$(document).scrollTop())+5+"px",left:parseInt(panel.css("left"))-(offset.left-$(document).scrollLeft())+5+"px"};return newPos;},calcPosTooltipLeft:function(pos,jsPparent,option){var parW=jsPparent.outerWidth(),mL=parseInt(jsPparent.css("margin-left")),oX=option.offset.left||0;if(pos==="top"||pos==="bottom"){return(parW-option.size.width)/2+mL+oX+"px";}if(pos==="left"){return -(option.size.width)+mL+oX+"px";}if(pos==="right"){return parW+mL+oX+"px";}return false;},calcPosTooltipTop:function(pos,jsPparent,option){var parH=jsPparent.innerHeight(),mT=parseInt(jsPparent.css("margin-top")),oY=option.offset.top||0;if(pos==="left"||pos==="right"){return -(option.size.height/2)+(parH/2)+mT+oY+"px";}if(pos==="top"){return -(option.size.height+oY)+mT+"px";}if(pos==="bottom"){return parH+mT+oY+"px";}return false;},calcToooltipPosition:function(jsPparent,option){if(option.paneltype.position==="top"){option.position={top:jsPanel.calcPosTooltipTop("top",jsPparent,option),left:jsPanel.calcPosTooltipLeft("top",jsPparent,option)};}else{if(option.paneltype.position==="bottom"){option.position={top:jsPanel.calcPosTooltipTop("bottom",jsPparent,option),left:jsPanel.calcPosTooltipLeft("bottom",jsPparent,option)};}else{if(option.paneltype.position==="left"){option.position={top:jsPanel.calcPosTooltipTop("left",jsPparent,option),left:jsPanel.calcPosTooltipLeft("left",jsPparent,option)};}else{if(option.paneltype.position==="right"){option.position={top:jsPanel.calcPosTooltipTop("right",jsPparent,option),left:jsPanel.calcPosTooltipLeft("right",jsPparent,option)};}}}}return option.position;},calcVerticalOffset:function(panel){return panel.offset().top-jsPanel.winscrollTop();},close:function(panel,optionPaneltypeType,jsPparentTagname){var context=panel.parent(),panelID=panel.attr("id"),ind;jsPanel.closeChildpanels(panel);if(context.hasClass("jsPanel-tooltip-wrapper")){panel.unwrap();}panel.remove();$("body").trigger("jspanelclosed",panelID);if(optionPaneltypeType==="modal"){$(".jsPanel-backdrop").remove();}jsPanel.reposMinimized(jsPanel.widthForMinimized);if(optionPaneltypeType==="hint"){ind=jsPanel.hintsTc.indexOf(panelID);if(ind!==-1){jsPanel.hintsTc.splice(ind,1);jsPanel.reposHints(jsPanel.hintsTc,jsPparentTagname);}ind=jsPanel.hintsTl.indexOf(panelID);if(ind!==-1){jsPanel.hintsTl.splice(ind,1);jsPanel.reposHints(jsPanel.hintsTl,jsPparentTagname);}ind=jsPanel.hintsTr.indexOf(panelID);if(ind!==-1){jsPanel.hintsTr.splice(ind,1);jsPanel.reposHints(jsPanel.hintsTr,jsPparentTagname);}}return context;},closeallTooltips:function(){var pID;$(".jsPanel-tt").each(function(){pID=$(this).attr("id");$("#"+pID).unwrap().remove();$("body").trigger("jspanelclosed",pID);});},closeChildpanels:function(panel){var pID;$(".jsPanel",panel).each(function(){pID=$(this).attr("id");$("#"+pID).remove();$("body").trigger("jspanelclosed",pID);});return panel;},configControls:function(optionControls,panel){if(optionControls.buttons==="closeonly"){$(".jsPanel-btn-min, .jsPanel-btn-norm, .jsPanel-btn-max, .jsPanel-btn-small, .jsPanel-btn-smallrev",panel.header.controls).remove();panel.header.title.css("width","calc(100% - 30px)");}else{if(optionControls.buttons==="none"){$("*",panel.header.controls).remove();panel.header.title.css("width","100%");}}if(optionControls.close){panel.control("disable","close");}if(optionControls.maximize){panel.control("disable","maximize");}if(optionControls.minimize){panel.control("disable","minimize");}if(optionControls.normalize){panel.control("disable","normalize");}if(optionControls.smallify){panel.control("disable","smallify");}},configIconfont:function(optionControlsIconfont,panel){$("*",panel.header.controls).css("background-image","none");if(optionControlsIconfont==="bootstrap"){$(".jsPanel-btn-close",panel.header.controls).empty().append('<span class="glyphicon glyphicon-remove"></span>');$(".jsPanel-btn-max",panel.header.controls).empty().append('<span class="glyphicon glyphicon-fullscreen"></span>');$(".jsPanel-btn-norm",panel.header.controls).empty().append('<span class="glyphicon glyphicon-resize-full"></span>');$(".jsPanel-btn-min",panel.header.controls).empty().append('<span class="glyphicon glyphicon-minus"></span>');$(".jsPanel-btn-small",panel.header.controls).empty().append('<span class="glyphicon glyphicon-chevron-up"></span>');$(".jsPanel-btn-smallrev",panel.header.controls).empty().append('<span class="glyphicon glyphicon-chevron-down"></span>');}else{if(optionControlsIconfont==="font-awesome"){$(".jsPanel-btn-close",panel.header.controls).empty().append('<i class="fa fa-times"></i>');$(".jsPanel-btn-max",panel.header.controls).empty().append('<i class="fa fa-arrows-alt"></i>');$(".jsPanel-btn-norm",panel.header.controls).empty().append('<i class="fa fa-expand"></i>');$(".jsPanel-btn-min",panel.header.controls).empty().append('<i class="fa fa-minus"></i>');$(".jsPanel-btn-small",panel.header.controls).empty().append('<i class="fa fa-chevron-up"></i>');$(".jsPanel-btn-smallrev",panel.header.controls).empty().append('<i class="fa fa-chevron-down"></i>');}}},configToolbar:function(toolbaritems,toolbarplace,panel){var i,el,type,max=toolbaritems.length;for(i=0;i<max;i+=1){if(typeof toolbaritems[i]==="object"){el=$(toolbaritems[i].item);type=el.prop("tagName").toLowerCase();if(type==="button"){el.append(toolbaritems[i].btntext);if(typeof toolbaritems[i].btnclass==="string"){el.addClass(toolbaritems[i].btnclass);}}toolbarplace.append(el);if($.isFunction(toolbaritems[i].callback)){el.on(toolbaritems[i].event,panel,toolbaritems[i].callback);}}}},control:function(panel,action,btn){if(arguments.length===3){if(arguments[1]==="disable"){if(btn==="close"){btn=$(".jsPanel-btn-close",panel.header.controls);}if(btn==="maximize"){btn=$(".jsPanel-btn-max",panel.header.controls);}if(btn==="minimize"){btn=$(".jsPanel-btn-min",panel.header.controls);}if(btn==="normalize"){btn=$(".jsPanel-btn-norm",panel.header.controls);}if(btn==="smallify"){btn=$(".jsPanel-btn-small",panel.header.controls);}btn.off().css({opacity:0.5,cursor:"default"});}else{if(arguments[1]==="enable"){var controlbtn;if(btn==="close"){controlbtn=$(".jsPanel-btn-close",panel.header.controls);}if(btn==="maximize"){controlbtn=$(".jsPanel-btn-max",panel.header.controls);}if(btn==="minimize"){controlbtn=$(".jsPanel-btn-min",panel.header.controls);}if(btn==="normalize"){controlbtn=$(".jsPanel-btn-norm",panel.header.controls);}if(btn==="smallify"){controlbtn=$(".jsPanel-btn-small",panel.header.controls);}controlbtn.on("click",function(e){e.preventDefault();panel[btn]();}).css({opacity:1,cursor:"pointer"});}}}return panel;},dblclickhelper:function(odcs,panel){if(typeof odcs==="string"){if(odcs==="maximize"||odcs==="normalize"){if(panel.status!=="maximized"){panel.maximize();}else{panel.normalize();}}else{if(odcs==="minimize"||odcs==="smallify"||odcs==="close"){panel[odcs]();}}}},docOuterHeight:function(){return $(document).outerHeight();},fixPosition:function(panel){var jspaneldiff=panel.offset().top-jsPanel.winscrollTop();panel.jsPanelfixPos=function(){panel.css("top",jsPanel.winscrollTop()+jspaneldiff+"px");};$(window).on("scroll",panel.jsPanelfixPos);},getMargins:function(panel,selector){var off,elmtOff,mR,mL,mB,mT;if(!selector||selector==="body"){off=panel.offset();mR=jsPanel.winouterWidth()-off.left-panel.outerWidth()+jsPanel.winscrollLeft();mL=jsPanel.winouterWidth()-panel.outerWidth()-mR;mB=jsPanel.winouterHeight()-off.top-panel.outerHeight()+jsPanel.winscrollTop();mT=jsPanel.winouterHeight()-panel.outerHeight()-mB;}else{elmtOff=$(selector).offset();off=panel.offset();mR=$(selector).outerWidth()-parseInt(panel.css("width"))-(off.left-elmtOff.left);mL=off.left-elmtOff.left;mB=$(selector).outerHeight()-(off.top-elmtOff.top)-parseInt(panel.css("height"));mT=off.top-elmtOff.top;}return{marginTop:parseInt(mT),marginRight:parseInt(mR),marginBottom:parseInt(mB),marginLeft:parseInt(mL)};},getMaxpanelshift:function(panel){var horiz=parseInt(panel.outerWidth()/2)+parseInt(panel.parent().outerWidth()/2)-20,vert=parseInt(panel.outerHeight()/2)+parseInt(panel.parent().outerHeight()/2)-20,cornerHoriz=parseInt(panel.outerWidth()/2)-16,cornerVert=parseInt(panel.outerHeight()/2)-16;return{maxshiftH:horiz,maxshiftV:vert,maxCornerH:cornerHoriz,maxCornerV:cornerVert};},shiftTooltipHorizontal:function(panel,optionPaneltypeshiftwithin){var margins=jsPanel.getMargins(panel,optionPaneltypeshiftwithin),leftShiftRequired=0,maxShift=jsPanel.getMaxpanelshift(panel),maxLeftShift=maxShift.maxshiftH,shift=0,maxCornerLeft=maxShift.maxCornerH,cornerShift=0,newPanelLeft=0,newCornerLeft=0;if(margins.marginLeft<0&&margins.marginRight>0){leftShiftRequired=Math.abs(margins.marginLeft)+5;shift=Math.min(leftShiftRequired,maxLeftShift);cornerShift=Math.min(maxCornerLeft,shift);newPanelLeft=parseInt(panel.css("left"))+shift+"px";newCornerLeft=parseInt($(".jsPanel-corner",panel).css("left"))-cornerShift+"px";}else{if(margins.marginRight<0&&margins.marginLeft>0){leftShiftRequired=Math.abs(margins.marginRight)+5;shift=Math.min(leftShiftRequired,maxLeftShift);cornerShift=Math.min(maxCornerLeft,shift);newPanelLeft=parseInt(panel.css("left"))-shift+"px";newCornerLeft=parseInt($(".jsPanel-corner",panel).css("left"))+cornerShift+"px";}}if((margins.marginLeft<0&&margins.marginRight>0)||(margins.marginRight<0&&margins.marginLeft>0)){panel.animate({left:newPanelLeft},{queue:false});if($(".jsPanel-corner",panel)){$(".jsPanel-corner",panel).animate({left:newCornerLeft},{queue:false});}}},shiftTooltipVertical:function(panel,optionPaneltypeshiftwithin){var margins=jsPanel.getMargins(panel,optionPaneltypeshiftwithin),topShiftRequired=0,maxShift=jsPanel.getMaxpanelshift(panel),maxTopShift=maxShift.maxshiftV,shift=0,maxCornerTop=maxShift.maxCornerV,cornerShift=0,newPanelTop=0,newCornerTop=0;if(margins.marginTop<0&&margins.marginBottom>0){topShiftRequired=Math.abs(margins.marginTop)+5;shift=Math.min(topShiftRequired,maxTopShift);cornerShift=Math.min(maxCornerTop,shift);newPanelTop=parseInt(panel.css("top"))+shift+"px";newCornerTop=parseInt($(".jsPanel-corner",panel).css("top"))-cornerShift+"px";}else{if(margins.marginBottom<0&&margins.marginTop>0){topShiftRequired=Math.abs(margins.marginBottom)+5;shift=Math.min(topShiftRequired,maxTopShift);cornerShift=Math.min(maxCornerTop,shift);newPanelTop=parseInt(panel.css("top"))-shift+"px";newCornerTop=parseInt($(".jsPanel-corner",panel).css("top"))+cornerShift+"px";}}if((margins.marginTop<0&&margins.marginBottom>0)||(margins.marginBottom<0&&margins.marginTop>0)){panel.animate({top:newPanelTop},{queue:false});if($(".jsPanel-corner",panel)){$(".jsPanel-corner",panel).animate({top:newCornerTop},{queue:false});}}},getTitle:function(panel){return panel.header.title.html();},hideControls:function(sel,panel){var controls=".jsPanel-btn-close, .jsPanel-btn-norm, .jsPanel-btn-min, .jsPanel-btn-max, .jsPanel-btn-small, .jsPanel-btn-smallrev";$(controls,panel.header.controls).css("display","block");$(sel,panel.header.controls).css("display","none");},hintTop:function(hintGroup){var i,hintH=0,max=hintGroup.length;for(i=0;i<max;i+=1){hintH+=$("#"+hintGroup[i]).outerHeight(true);}if(hintGroup===jsPanel.hintsTr){return{top:hintH,right:0};}if(hintGroup===jsPanel.hintsTl){return{top:hintH,left:0};}if(hintGroup===jsPanel.hintsTc){return{top:hintH,left:"center"};}return{top:0,left:0};},insertModalBackdrop:function(){var backdrop='<div class="jsPanel-backdrop" style="height:'+jsPanel.docOuterHeight()+'px;"></div>';$("body").append(backdrop);},isBootstrapTheme:function(optionBootstrap){var arr=["default","primary","info","success","warning","danger"];if($.inArray(optionBootstrap,arr)>-1){return optionBootstrap;}else{return"default";}},isPosInt:function(arg){var regex=/^\+?[1-9]\d*$/;if(arg.toString().match(regex)!==null){return true;}else{return false;}},maxWithinBody:function(panel,option){if(panel.status!=="maximized"&&option.paneltype.mode!=="default"){var newPos,newTop,newLeft;$(window).off("scroll",panel.jsPanelfixPos);jsPanel.restoreFromMinimized(panel,option);if(option.controls.maxtoScreen===true){newPos=jsPanel.calcPosmaxtoScreen(panel);newTop=newPos.top;newLeft=newPos.left;}else{newTop=jsPanel.winscrollTop()+5+"px";newLeft=jsPanel.winscrollLeft()+5+"px";}panel.animate({top:newTop,left:newLeft,width:jsPanel.winouterWidth()-10+"px",height:jsPanel.winouterHeight()-10+"px"},{done:function(){jsPanel.resizeContent(panel);panel.animate({opacity:1},{duration:150});jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",panel);panel.status="maximized";$(panel).trigger("jspanelmaximized",panel.attr("id"));$(panel).trigger("jspanelstatechange",panel.attr("id"));if(!option.controls.maxtoScreen||(option.controls.maxtoScreen&&option.selector==="body")){jsPanel.fixPosition(panel,option);}jsPanel.resizeTitle(panel);}});}},maxWithinElement:function(panel,option){if(panel.status!=="maximized"&&option.paneltype.mode!=="default"){var width,height;jsPanel.restoreFromMinimized(panel,option);width=parseInt(panel.parent().outerWidth(),10)-10+"px";height=parseInt(panel.parent().outerHeight(),10)-10+"px";panel.animate({top:"5px",left:"5px",width:width,height:height},{done:function(){jsPanel.resizeContent(panel);panel.animate({opacity:1},{duration:150});jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",panel);panel.status="maximized";$(panel).trigger("jspanelmaximized",panel.attr("id"));$(panel).trigger("jspanelstatechange",panel.attr("id"));jsPanel.resizeTitle(panel);}});}},maximize:function(panel,jsPparentTagname,option){if(jsPparentTagname==="body"||option.controls.maxtoScreen===true){jsPanel.maxWithinBody(panel,option);}else{jsPanel.maxWithinElement(panel,option);}return panel;},minimize:function(panel,optionSize){if(panel.status==="normalized"){optionSize.width=panel.outerWidth()+"px";optionSize.height=panel.outerHeight()+"px";}panel.animate({opacity:0},{duration:400,complete:function(){panel.animate({width:"150px",height:"28px"},{duration:100,complete:function(){jsPanel.movetoMinified(panel);jsPanel.resizeTitle(panel);panel.css("opacity",1);}});}});return panel;},movetoMinified:function(panel){var mincount=$("#jsPanel-min-container > .jsPanel").length;if($("#jsPanel-min-container").length===0){$("body").append('<div id="jsPanel-min-container"></div>');}if(panel.status!=="minimized"){panel.css({left:(mincount*jsPanel.widthForMinimized)+"px",top:0,opacity:1}).appendTo("#jsPanel-min-container").resizable({disabled:true}).draggable({disabled:true});jsPanel.hideControls(".jsPanel-btn-min, .jsPanel-btn-small, .jsPanel-btn-smallrev",panel);$(panel).trigger("jspanelminimized",panel.attr("id"));$(panel).trigger("jspanelstatechange",panel.attr("id"));panel.status="minimized";$(window).off("scroll",panel.jsPanelfixPos);}},normalize:function(panel,option,jsPparentTagname,verticalOffset){var panelTop;$(window).off("scroll",panel.jsPanelfixPos);jsPanel.restoreFromMinimized(panel,option);if(jsPparentTagname==="body"){panelTop=jsPanel.winscrollTop()+verticalOffset+"px";}else{panelTop=option.position.top;}panel.animate({width:option.size.width,height:option.size.height,top:panelTop,left:option.position.left},{done:function(){panel.animate({opacity:1},{duration:150});jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",panel);jsPanel.resizeTitle(panel);if(option.resizable!=="disabled"){panel.resizable("enable");}if(option.draggable!=="disabled"){panel.draggable("enable");}panel.status="normalized";$(panel).trigger("jspanelnormalized",panel.attr("id"));$(panel).trigger("jspanelstatechange",panel.attr("id"));if(jsPparentTagname==="body"){jsPanel.fixPosition(panel);}jsPanel.resizeContent(panel);}});return panel;},replaceCSSBottomRight:function(panel,optionPosition){var panelPosition=panel.position(),panelPosTop=parseInt(panelPosition.top,10),panelPosLeft=parseInt(panelPosition.left,10);if(panel.css("bottom")){panel.css({top:parseInt(panelPosition.top,10)+"px",bottom:""});optionPosition.top=panelPosTop;}if(panel.css("right")){panel.css({left:parseInt(panelPosition.left,10)+"px",right:""});optionPosition.left=panelPosLeft;}},reposHints:function(hintGroup,jsPtagname){var hintH,el,i,max=hintGroup.length;if(jsPtagname==="body"){hintH=jsPanel.winscrollTop();}else{hintH=0;}for(i=0;i<max;i+=1){el=$("#"+hintGroup[i]);el.animate({top:hintH+"px"});hintH+=el.outerHeight(true);}},reposHintsScroll:function(panel){var dif=panel.offset().top-jsPanel.winscrollTop();$(window).scroll(function(){panel.css("top",jsPanel.winscrollTop()+dif+"px");});},reposMinimized:function(){var minimized=$("#jsPanel-min-container > .jsPanel"),minimizedCount=minimized.length,i;for(i=0;i<minimizedCount;i+=1){minimized.eq(i).animate({left:(i*jsPanel.widthForMinimized)+"px"});}},resizeContent:function(panel){var hdrftr,poh=panel.outerHeight();if(panel.footer.css("display")==="none"){hdrftr=panel.header.outerHeight();}else{hdrftr=panel.header.outerHeight()+panel.footer.outerHeight();}panel.content.css({height:(poh-hdrftr)+"px",width:"100%"});return panel;},resizeTitle:function(panel){var contWidth=$(panel.header.controls).outerWidth(),panelWidth=$(panel).outerWidth(),titleWidth=(panelWidth-contWidth-15)+"px";panel.header.title.css("width",titleWidth);},restoreFromMinimized:function(panel,option){if(panel.status==="minimized"){panel.animate({opacity:0},{duration:50});panel.appendTo(option.selector);}if(option.resizable!=="disabled"){panel.resizable("enable");}if(option.draggable!=="disabled"){panel.draggable("enable");}jsPanel.reposMinimized(jsPanel.widthForMinimized);},rewriteOPaneltype:function(optionPaneltype){var op=optionPaneltype;if(op==="modal"){return{type:"modal",mode:"default"};}else{if(op==="tooltip"){return{type:"tooltip",position:"top"};}else{if(op==="hint"){return{type:"hint"};}else{if(op.type==="modal"){op.mode=op.mode||"default";return{type:"modal",mode:op.mode};}else{if(op.type==="tooltip"){op.mode=op.mode||false;op.position=op.position||false;op.shiftwithin=op.shiftwithin||"body";op.solo=op.solo||false;op.cornerBG=op.cornerBG||false;op.cornerOX=op.cornerOX||false;op.cornerOY=op.cornerOY||false;return{type:"tooltip",mode:op.mode,position:op.position,shiftwithin:op.shiftwithin,solo:op.solo,cornerBG:op.cornerBG,cornerOX:op.cornerOX,cornerOY:op.cornerOY};}else{return{paneltype:false};}}}}}},rewriteOPosition:function(optionPosition){var op=optionPosition;if(op==="center"){return{top:"center",left:"center"};}if(op==="auto"){return{top:"auto",left:"auto"};}if(op==="top left"){return{top:"0",left:"0"};}if(op==="top center"){return{top:"0",left:"center"};}if(op==="top right"){return{top:"0",right:"0"};}if(op==="center right"){return{top:"center",right:"0"};}if(op==="bottom right"){return{bottom:"0",right:"0"};}if(op==="bottom center"){return{bottom:"0",left:"center"};}if(op==="bottom left"){return{bottom:"0",left:"0"};}if(op==="center left"){return{top:"center",left:"0"};}return optionPosition;},setHintDefaults:function(option,panel){option.resizable=false;option.draggable=false;option.removeHeader=true;option.toolbarFooter=false;option.show="fadeIn";panel.addClass("jsPanel-hint");panel.content.addClass("jsPanel-hint-content");if(!option.autoclose){option.autoclose=8000;}else{if(option.autoclose<0){option.autoclose=false;}}panel.content.addClass("jsPanel-hint-"+option.theme);if(option.theme==="default"||option.theme==="light"){panel.content.append('<div class="jsPanel-hint-close-dark"></div>');}else{panel.content.append('<div class="jsPanel-hint-close-white"></div>');}},setModalDefaults:function(option,panel){option.selector="body";option.show="fadeIn";if(option.paneltype.mode==="default"){option.resizable=false;option.draggable=false;option.removeHeader=false;option.position={top:"center",left:"center"};option.offset={top:0,left:0};option.controls.buttons="closeonly";$(".jsPanel-btn-min, .jsPanel-btn-norm, .jsPanel-btn-max, .jsPanel-btn-small, .jsPanel-btn-smallrev",panel).remove();$(panel.header,panel.header.title,panel.footer).css("cursor","default");$(".jsPanel-title",panel).css("cursor","inherit");}},setPanelId:function(panel,optionID){if(typeof optionID==="string"){if($("#"+optionID).length<1){panel.attr("id",optionID);}else{jsPanel.ID+=1;panel.attr("id","jsPanel-"+jsPanel.ID);$(".jsPanel-title",panel).html($(".jsPanel-title",panel).text()+" AUTO-ID: "+panel.attr("id"));}}else{if($.isFunction(optionID)){panel.attr("id",optionID);}}},setRTL:function(panel,optionRtlLang){var elmts=[panel.header.title,panel.content,panel.header.toolbar,panel.footer],i,max=elmts.length;for(i=0;i<max;i+=1){elmts[i].prop("dir","rtl");if(optionRtlLang){elmts[i].prop("lang",optionRtlLang);}}panel.header.title.css("text-align","right");$(".jsPanel-btn-close",panel.header.controls).insertAfter($(".jsPanel-btn-min",panel.header.controls));$(".jsPanel-btn-max",panel.header.controls).insertAfter($(".jsPanel-btn-min",panel.header.controls));$(".jsPanel-btn-small",panel.header.controls).insertBefore($(".jsPanel-btn-min",panel.header.controls));$(".jsPanel-btn-smallrev",panel.header.controls).insertBefore($(".jsPanel-btn-min",panel.header.controls));$(".jsPanel-hdr-r",panel).css({left:"0px",right:"",position:"relative","float":"left"});$(".jsPanel-hint-close-dark, .jsPanel-hint-close-white",panel).css("float","left");$(".jsPanel-title",panel).css("float","right");$(".jsPanel-ftr",panel).append('<div style="clear:both;height:0;"></div>');$("button",panel.footer).css("float","left");},setTitle:function(panel,text){if(text&&typeof text==="string"){panel.header.title.html(text);return panel;}return panel;},setTooltipDefaults:function(option){option.position={};option.resizable=false;option.draggable=false;option.show="fadeIn";option.controls.buttons="closeonly";},setZi:function(){var zi=100;$(".jsPanel").each(function(){if($(this).zIndex()>zi){zi+=$(this).zIndex();}});return zi+1;},smallify:function(panel){if(panel.status!=="smallified"&&panel.status!=="smallifiedMax"){var statusNew;if(panel.status==="maximized"){statusNew="smallifiedMax";}else{statusNew="smallified";}panel.smallify.height=panel.outerHeight()+"px";panel.panelheaderheight=panel.header.outerHeight()-2;panel.panelfooterheight=panel.footer.outerHeight();panel.panelcontentheight=panel.content.outerHeight();panel.animate({height:panel.panelheaderheight+"px"},{done:function(){if(panel.status==="maximized"){jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-small",panel);}else{jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-small",panel);}panel.status=statusNew;$(panel).trigger("jspanelsmallified",panel.attr("id"));$(panel).trigger("jspanelstatechange",panel.attr("id"));}});}else{panel.animate({height:panel.smallify.height},{done:function(){if(panel.status==="smallified"){jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",panel);panel.status="normalized";$(panel).trigger("jspanelnormalized",panel.attr("id"));$(panel).trigger("jspanelstatechange",panel.attr("id"));}else{jsPanel.hideControls(".jsPanel-btn-max, .jsPanel-btn-smallrev",panel);panel.status="maximized";$(panel).trigger("jspanelmaximized",panel.attr("id"));$(panel).trigger("jspanelstatechange",panel.attr("id"));}}});}return panel;},updateOptionPosition:function(panel,optionPosition){optionPosition.top=panel.css("top");optionPosition.left=panel.css("left");},updateOptionSize:function(panel,optionSize){optionSize.width=panel.css("width");optionSize.height=panel.css("height");},winouterHeight:function(){return $(window).outerHeight();},winouterWidth:function(){return $(window).outerWidth();},winscrollLeft:function(){return $(window).scrollLeft();},winscrollTop:function(){return $(window).scrollTop();}};}(jQuery));(function($){$.jsPanel=function(config){var jsP=$(jsPanel.template),option=$.extend(true,{},$.jsPanel.defaults,config),anim=option.show,verticalOffset=0,jsPparent,jsPparentTagname,count;try{jsPparent=$(option.selector).first();jsPparentTagname=jsPparent[0].tagName.toLowerCase();count=jsPparent.children(".jsPanel").length;}catch(e){console.log(e);console.log("The element you want to append the jsPanel to does not exist!");option.selector="body";jsPparent=$("body");jsPparentTagname="body";count=jsPparent.children(".jsPanel").length;}jsP.status="initialized";jsP.header=$(".jsPanel-hdr",jsP);jsP.header.title=$(".jsPanel-title",jsP.header);jsP.header.controls=$(".jsPanel-hdr-r",jsP.header);jsP.header.toolbar=$(".jsPanel-hdr-toolbar",jsP.header);jsP.content=$(".jsPanel-content",jsP);jsP.footer=$(".jsPanel-ftr",jsP);jsP.normalize=function(){jsPanel.normalize(jsP,option,jsPparentTagname,verticalOffset);return jsP;};jsP.close=function(){jsPanel.close(jsP,option.paneltype.type,jsPparentTagname);};jsP.closeChildpanels=function(){jsPanel.closeChildpanels(jsP);return jsP;};jsP.minimize=function(){jsPanel.minimize(jsP,option.size);return jsP;};jsP.maximize=function(){jsPanel.maximize(jsP,jsPparentTagname,option);return jsP;};jsP.smallify=function(){jsPanel.smallify(jsP);return jsP;};jsP.front=function(){jsP.css("z-index",jsPanel.setZi());return jsP;};jsP.title=function(text){if(text&&typeof text==="string"){jsPanel.setTitle(jsP,text);return jsP;}else{if(arguments.length===0){return jsPanel.getTitle(jsP);}}};jsP.addToolbar=function(place,items){jsPanel.addToolbar(jsP,place,items);return jsP;};jsP.control=function(action,btn){jsPanel.control(jsP,action,btn);return jsP;};jsP.resize=function(width,height){if(width&&width!==null){jsP.css("width",width);}else{jsP.css("width",jsP.content.css("width"));}if(height&&height!==null){jsP.css("height",height);}jsPanel.resizeContent(jsP);jsPanel.resizeTitle(jsP);return jsP;};jsP.on("click",function(){jsP.css("z-index",jsPanel.setZi());});$(".jsPanel-btn-close",jsP).on("click",function(e){e.preventDefault();jsPanel.close(jsP,option.paneltype.type,jsPparentTagname);});$(".jsPanel-btn-min",jsP).on("click",function(e){e.preventDefault();jsPanel.minimize(jsP,option.size);});$(".jsPanel-btn-max",jsP).on("click",function(e){e.preventDefault();jsPanel.maximize(jsP,jsPparentTagname,option);});$(".jsPanel-btn-norm",jsP).on("click",function(e){e.preventDefault();jsPanel.normalize(jsP,option,jsPparentTagname,verticalOffset);});$(".jsPanel-btn-small, .jsPanel-btn-smallrev",jsP).on("click",function(e){e.preventDefault();jsPanel.smallify(jsP);});option.paneltype=jsPanel.rewriteOPaneltype(option.paneltype);option.position=jsPanel.rewriteOPosition(option.position);jsPanel.setPanelId(jsP,option.id);if(option.paneltype.type==="modal"){jsPanel.setModalDefaults(option,jsP);if($(".jsPanel-backdrop").length<1){jsPanel.insertModalBackdrop();}}else{if(option.paneltype.type==="tooltip"){jsPanel.setTooltipDefaults(option);if(option.paneltype.solo){jsPanel.closeallTooltips();}option.position=jsPanel.calcToooltipPosition(jsPparent,option);jsP.css({top:option.position.top,left:option.position.left}).addClass("jsPanel-tt");if(!jsPparent.parent().hasClass("jsPanel-tooltip-wrapper")){jsPparent.wrap('<div class="jsPanel-tooltip-wrapper">');jsPparent.parent().append(jsP);if(option.paneltype.mode==="semisticky"){jsP.hover(function(){$.noop();},function(){jsPanel.close(jsP,option.paneltype.type,jsPparentTagname);});}else{if(option.paneltype.mode==="sticky"){$.noop();}else{option.controls.buttons="none";jsPparent.off("mouseout");jsPparent.mouseout(function(){jsPanel.close(jsP,option.paneltype.type,jsPparentTagname);});}}}jsP.css("overflow","visible");if(option.paneltype.cornerBG){var corner=$("<div></div>"),cornerLoc="jsPanel-corner-"+option.paneltype.position,cornerPos,cornerOX=parseInt(option.paneltype.cornerOX)||0,cornerOY=parseInt(option.paneltype.cornerOY)||0,cornerBG=option.paneltype.cornerBG;if(option.paneltype.position!=="bottom"){corner.addClass("jsPanel-corner "+cornerLoc).appendTo(jsP);}else{corner.addClass("jsPanel-corner "+cornerLoc).prependTo(jsP);}if(option.paneltype.position==="top"){cornerPos=parseInt(option.size.width)/2-12+(cornerOX)+"px";corner.css({borderTopColor:cornerBG,left:cornerPos});}else{if(option.paneltype.position==="right"){cornerPos=parseInt(option.size.height)/2-12+(cornerOY)+"px";corner.css({borderRightColor:cornerBG,left:"-22px",top:cornerPos});}else{if(option.paneltype.position==="bottom"){cornerPos=parseInt(option.size.width)/2-12+(cornerOX)+"px";corner.css({borderBottomColor:cornerBG,left:cornerPos,top:"-22px"});}else{if(option.paneltype.position==="left"){cornerPos=parseInt(option.size.height)/2-12+(cornerOY)+"px";corner.css({borderLeftColor:cornerBG,left:option.size.width,top:cornerPos});}}}}}}else{if(option.paneltype.type==="hint"){jsPanel.setHintDefaults(option,jsP);$(".jsPanel-hint-close-dark, .jsPanel-hint-close-white",jsP).on("click",jsP,function(event){event.data.close(jsP,option.paneltype.type,jsPparentTagname);});if(option.position.top==="0"&&option.position.left==="center"){if(jsPanel.hintsTc.length>0){option.position=jsPanel.hintTop(jsPanel.hintsTc);}jsPanel.hintsTc.push(jsP.attr("id"));}else{if(option.position.top==="0"&&option.position.left==="0"){if(jsPanel.hintsTl.length>0){option.position=jsPanel.hintTop(jsPanel.hintsTl);}jsPanel.hintsTl.push(jsP.attr("id"));}else{if(option.position.top==="0"&&option.position.right==="0"){if(jsPanel.hintsTr.length>0){option.position=jsPanel.hintTop(jsPanel.hintsTr);}jsPanel.hintsTr.push(jsP.attr("id"));}}}}}}if(option.paneltype.type!=="tooltip"){jsP.appendTo(jsPparent);}if(option.paneltype.type==="modal"){jsP.css("zIndex","1100");if(option.paneltype.mode==="extended"){$(".jsPanel-backdrop").css("z-index","999");}}else{jsP.css("z-index",jsPanel.setZi());}if(option.bootstrap){option.theme=jsPanel.isBootstrapTheme(option.bootstrap);option.controls.iconfont="bootstrap";jsP.alterClass("jsPanel-theme-*","panel panel-"+option.theme);jsP.header.alterClass("jsPanel-theme-*","panel-heading");jsP.header.title.addClass("panel-title");jsP.content.alterClass("jsPanel-theme-*","panel-body");jsP.footer.addClass("panel-footer");jsP.header.title.css("color",function(){return jsP.header.css("color");});jsP.content.css("border-top-color",function(){return jsP.header.css("border-top-color");});}else{jsP.alterClass("jsPanel-theme-*","jsPanel-theme-"+option.theme);jsP.header.alterClass("jsPanel-theme-*","jsPanel-theme-"+option.theme);jsP.content.alterClass("jsPanel-theme-*","jsPanel-theme-"+option.theme);jsP.footer.alterClass("jsPanel-theme-*","jsPanel-theme-"+option.theme);}if(option.removeHeader){jsP.header.remove();}if(!option.removeHeader){jsPanel.configControls(option.controls,jsP);}if(option.controls.iconfont){jsPanel.configIconfont(option.controls.iconfont,jsP);}if(!option.controls.iconfont){$(".jsPanel-btn-close, .jsPanel-btn-max, .jsPanel-btn-norm, .jsPanel-btn-min, .jsPanel-btn-small, .jsPanel-btn-smallrev",jsP.header.controls).empty();}if(option.toolbarHeader&&option.removeHeader===false){if(typeof option.toolbarHeader==="string"){jsP.header.toolbar.append(option.toolbarHeader);}else{if($.isFunction(option.toolbarHeader)){jsP.header.toolbar.append(option.toolbarHeader(jsP.header));}else{if($.isArray(option.toolbarHeader)){jsPanel.configToolbar(option.toolbarHeader,jsP.header.toolbar,jsP);}}}}if(option.toolbarFooter){jsP.footer.css({display:"block",padding:"0 20px 0 5px"});if(typeof option.toolbarFooter==="string"){jsP.footer.append(option.toolbarFooter);}else{if($.isFunction(option.toolbarFooter)){jsP.footer.append(option.toolbarFooter(jsP.footer));}else{if($.isArray(option.toolbarFooter)){jsPanel.configToolbar(option.toolbarFooter,jsP.footer,jsP);}}}}if(option.rtl.rtl===true){jsPanel.setRTL(jsP,option.rtl.lang);}if(typeof option.overflow==="string"){jsP.content.css("overflow",option.overflow);}else{if($.isPlainObject(option.overflow)){jsP.content.css({"overflow-y":option.overflow.vertical,"overflow-x":option.overflow.horizontal});}}if($.isPlainObject(option.draggable)){if(jsP.parent().hasClass("jsPanel-content")){option.draggable.containment="parent";}option.customdraggable=$.extend(true,{},$.jsPanel.defaults.draggable,option.draggable);jsP.draggable(option.customdraggable);}else{if(option.draggable==="disabled"){$(".jsPanel-title",jsP).css("cursor","inherit");jsP.draggable({disabled:true});}}if($.isPlainObject(option.resizable)){option.customresizable=$.extend(true,{},$.jsPanel.defaults.resizable,option.resizable);jsP.resizable(option.customresizable);}else{if(option.resizable==="disabled"){jsP.resizable({disabled:true});$(".ui-icon-gripsmall-diagonal-se",jsP).css("background-image","none");}}if(option.content){jsP.content.append(option.content);}if($.isPlainObject(option.load)&&option.load.url){if(!option.load.data){option.load.data=undefined;}jsP.content.load(option.load.url,option.load.data,function(responseText,textStatus,jqXHR){if(option.load.complete){option.load.complete(responseText,textStatus,jqXHR,jsP);}jsPanel.resizeTitle(jsP);jsPanel.updateOptionSize(jsP,option.size);jsP.content.css("width",function(){return jsP.content.outerWidth()+"px";});});}if($.isPlainObject(option.ajax)){$.ajax(option.ajax).done(function(data,textStatus,jqXHR){jsP.content.empty().append(data);if(option.ajax.done&&$.isFunction(option.ajax.done)){option.ajax.done(data,textStatus,jqXHR,jsP);}}).fail(function(jqXHR,textStatus,errorThrown){if(option.ajax.fail&&$.isFunction(option.ajax.fail)){option.ajax.fail(jqXHR,textStatus,errorThrown,jsP);}}).always(function(arg1,textStatus,arg3){jsP.content.css("width",function(){return jsP.content.outerWidth()+"px";});if(option.ajax.always&&$.isFunction(option.ajax.always)){option.ajax.always(arg1,textStatus,arg3,jsP);}jsPanel.resizeTitle(jsP);jsPanel.updateOptionSize(jsP,option.size);}).then(function(data,textStatus,jqXHR){if(option.ajax.then&&$.isArray(option.ajax.then)){if(option.ajax.then[0]&&$.isFunction(option.ajax.then[0])){option.ajax.then[0](data,textStatus,jqXHR,jsP);}jsPanel.resizeTitle(jsP);jsPanel.updateOptionSize(jsP,option.size);}},function(jqXHR,textStatus,errorThrown){if(option.ajax.then&&$.isArray(option.ajax.then)){if(option.ajax.then[1]&&$.isFunction(option.ajax.then[1])){option.ajax.then[1](jqXHR,textStatus,errorThrown,jsP);}jsPanel.resizeTitle(jsP);}});}if(typeof option.size==="string"&&option.size==="auto"){option.size={width:"auto",height:"auto"};}else{if($.isPlainObject(option.size)){if(!jsPanel.isPosInt(option.size.width)){if(typeof option.size.width==="string"&&option.size.width!=="auto"){option.size.width=parseInt(option.size.width,10);if(option.size.width<1||!$.isNumeric(option.size.width)){option.size.width=$.jsPanel.defaults.size.width;}}else{if($.isFunction(option.size.width)){option.size.width=parseInt(option.size.width(),10);}else{if(option.size.width!=="auto"){option.size.width=$.jsPanel.defaults.size.width;}}}}if(!jsPanel.isPosInt(option.size.height)){if(typeof option.size.height==="string"&&option.size.height!=="auto"){option.size.height=parseInt(option.size.height,10);if(option.size.height<1||!$.isNumeric(option.size.height)){option.size.height=$.jsPanel.defaults.size.height;}}else{if($.isFunction(option.size.height)){option.size.height=parseInt(option.size.height(),10);}else{if(option.size.height!=="auto"){option.size.height=$.jsPanel.defaults.size.height;}}}}}}jsP.content.css({width:option.size.width+"px",height:option.size.height+"px"});jsP.header.title.css("width",jsP.content.width()-90);if($.isPlainObject(option.iframe)&&(option.iframe.src||option.iframe.srcdoc)){var iFrame=$("<iframe></iframe>");if(option.iframe.srcdoc){iFrame.prop("srcdoc",option.iframe.srcdoc);}if(option.iframe.src){iFrame.prop("src",option.iframe.src);}if(option.size.width!=="auto"&&!option.iframe.width){iFrame.prop("width",option.size.width);}else{if(typeof option.iframe.width==="string"&&option.iframe.width.slice(-1)==="%"){iFrame.prop("width",option.iframe.width);}else{iFrame.prop("width",parseInt(option.iframe.width)+"px");}}if(option.size.height!=="auto"&&!option.iframe.height){iFrame.prop("height",option.size.height);}else{if(typeof option.iframe.height==="string"&&option.iframe.height.slice(-1)==="%"){iFrame.prop("height",option.iframe.height);}else{iFrame.prop("height",parseInt(option.iframe.height)+"px");}}if(typeof option.iframe.name==="string"){iFrame.prop("name",option.iframe.name);}if(typeof option.iframe.id==="string"){iFrame.prop("id",option.iframe.id);}if(option.iframe.seamless){iFrame.prop("seamless","seamless");}if(typeof option.iframe.sandbox==="string"){iFrame.prop("sandox",option.iframe.sandbox);}if($.isPlainObject(option.iframe.style)){iFrame.css(option.iframe.style);}if(typeof option.iframe.classname==="string"){iFrame.addClass(option.iframe.classname);}else{if($.isFunction(option.iframe.classname)){iFrame.addClass(option.iframe.classname());}}jsP.content.append(iFrame);}if(option.paneltype.type!=="tooltip"){jsP.calcPanelposition=function(jsP,selector){var panelpos={};option.size.width=$(jsP).outerWidth();option.size.height=$(jsP).innerHeight();if(option.position.bottom){delete option.position.top;}if(option.position.right){delete option.position.left;}if(option.position.bottom||option.position.bottom===0){delete option.position.top;jsPanel.calcPos("bottom",option,count,jsP);}else{if(option.position.top||option.position.top===0){if(option.position.top==="center"){option.position.top=jsPanel.calcPosCenter(option).top;}else{jsPanel.calcPos("top",option,count,jsP);}}}if(option.position.right||option.position.right===0){delete option.position.left;jsPanel.calcPos("right",option,count,jsP);}else{if(option.position.left||option.position.left===0){if(option.position.left==="center"){option.position.left=jsPanel.calcPosCenter(option).left;}else{jsPanel.calcPos("left",option,count,jsP);}}}if(option.position.top){panelpos.top=parseInt(option.position.top,10)+option.offset.top+"px";}else{panelpos.bottom=parseInt(option.position.bottom,10)+option.offset.top+"px";}if(option.position.left){panelpos.left=parseInt(option.position.left,10)+option.offset.left+"px";}else{panelpos.right=parseInt(option.position.right,10)+option.offset.left+"px";}jsP.css(panelpos);option.position={top:jsP.css("top"),left:jsP.css("left")};};jsP.calcPanelposition(jsP,option.selector);}if(typeof option.addClass.header==="string"){jsP.header.addClass(option.addClass.header);}if(typeof option.addClass.content==="string"){jsP.content.addClass(option.addClass.content);}if(typeof option.addClass.footer==="string"){jsP.footer.addClass(option.addClass.footer);}if(option.paneltype.mode!=="default"){if(option.dblclicks){if(option.dblclicks.title){jsP.header.title.on("dblclick",function(e){e.preventDefault();jsPanel.dblclickhelper(option.dblclicks.title,jsP);});}if(option.dblclicks.content){jsP.content.on("dblclick",function(e){e.preventDefault();jsPanel.dblclickhelper(option.dblclicks.content,jsP);});}if(option.dblclicks.footer){jsP.footer.on("dblclick",function(e){e.preventDefault();jsPanel.dblclickhelper(option.dblclicks.footer,jsP);});}}}if(anim.indexOf(" ")===-1){jsP[anim]({done:function(){jsP.status="normalized";$(jsP).trigger("jspanelloaded",jsP.attr("id"));$(jsP).trigger("jspanelstatechange",jsP.attr("id"));option.size={width:jsP.outerWidth()+"px",height:jsP.outerHeight()+"px"};}});}else{jsP.status="normalized";jsP.css({display:"block",opacity:1}).addClass(option.show).trigger("jspanelloaded",jsP.attr("id")).trigger("jspanelstatechange",jsP.attr("id"));option.size={width:jsP.outerWidth()+"px",height:jsP.outerHeight()+"px"};}verticalOffset=jsPanel.calcVerticalOffset(jsP);jsPanel.replaceCSSBottomRight(jsP,option.position);jsP.header.title.prepend(option.title);jsPanel.resizeTitle(jsP);if(option.paneltype.type==="hint"){jsPanel.reposHintsScroll(jsP);}if(jsPparentTagname==="body"&&(option.paneltype.type!=="tooltip"||option.paneltype.type!=="hint")){jsPanel.fixPosition(jsP);}if(!option.paneltype||option.paneltype.mode!=="default"){$(jsP).on("resize",function(){jsPanel.resizeContent(jsP);jsPanel.resizeTitle(jsP);});$(jsP).on("resizestop",function(){option.size={width:jsP.outerWidth()+"px",height:jsP.outerHeight()+"px"};jsP.status="normalized";$(jsP).trigger("jspanelnormalized",jsP.attr("id"));$(jsP).trigger("jspanelstatechange",jsP.attr("id"));jsPanel.hideControls(".jsPanel-btn-norm, .jsPanel-btn-smallrev",jsP);});$(jsP).on("dragstart",function(){$(window).off("scroll",jsP.jsPanelfixPos);if(option.paneltype.mode==="extended"){jsP.css("z-index","1100");}});$(jsP).on("dragstop",function(){option.position={top:jsP.css("top"),left:jsP.css("left")};verticalOffset=jsPanel.calcVerticalOffset(jsP);if(jsPparentTagname==="body"){jsPanel.fixPosition(jsP);}});}if(typeof option.autoclose==="number"&&option.autoclose>0){jsPanel.autoclose(jsP,jsP.attr("id"),option.autoclose);}if(option.paneltype.type==="tooltip"&&(option.paneltype.position==="top"||option.paneltype.position==="bottom")){jsPanel.shiftTooltipHorizontal(jsP,option.paneltype.shiftwithin);}else{if(option.paneltype.position==="left"||option.paneltype.position==="right"){jsPanel.shiftTooltipVertical(jsP,option.paneltype.shiftwithin);}}if(option.callback&&$.isFunction(option.callback)){option.callback(jsP);}else{if($.isArray(option.callback)){var j,max=option.callback.length;for(j=0;j<max;j+=1){if($.isFunction(option.callback[j])){option.callback[j](jsP);}}}}return jsP;};$.jsPanel.defaults={addClass:{header:false,content:false,footer:false},ajax:false,autoclose:false,bootstrap:false,callback:undefined,content:false,controls:{buttons:true,iconfont:"jsglyph",close:false,maximize:false,minimize:false,normalize:false,smallify:false,maxtoScreen:false},dblclicks:false,draggable:{handle:"div.jsPanel-hdr, div.jsPanel-ftr",stack:".jsPanel",opacity:0.7},id:function(){jsPanel.ID+=1;return"jsPanel-"+jsPanel.ID;},iframe:false,load:false,offset:{top:0,left:0},paneltype:false,overflow:"hidden",position:"auto",removeHeader:false,resizable:{handles:"e, s, w, se, sw",autoHide:false,minWidth:150,minHeight:93},rtl:false,selector:"body",show:"fadeIn",size:{width:400,height:222},theme:"default",title:"jsPanel",toolbarFooter:false,toolbarHeader:false};$.fn.alterClass=function(removals,additions){var self=this,patt;if(removals.indexOf("*")===-1){self.removeClass(removals);return !additions?self:self.addClass(additions);}patt=new RegExp("\\s"+removals.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");self.each(function(i,it){var cn=" "+it.className+" ";while(patt.test(cn)){cn=cn.replace(patt," ");}it.className=$.trim(cn);});return !additions?self:self.addClass(additions);};$("body").click(function(e){var pID,isTT=$(e.target).closest(".jsPanel-tt").length;if(isTT<1){$(".jsPanel-tt").each(function(){pID=$(this).attr("id");$("#"+pID).unwrap().remove();$("body").trigger("jspanelclosed",pID);});}});}(jQuery));